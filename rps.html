<!DOCTYPE html>
<html>
<head>
    <title> 
        Rock Paper Scissors
    </title>

</head>
<body>

    <script>
        const options = ['Rock', 'Paper', 'Scissors'];
        const optionsLength = options.length;
        let playerScore = 0;
        let computerScore = 0;
        let winner = "";
        const numOfRounds = 5; //prompt for number of rounds?
        
        /*
        Randomly select rock paper or scissors for the computers selection
        */
        function computerPlay(){
             let option = options[Math.floor(Math.random() * optionsLength)];
             return option;
        }
        
        /*
        take the player selection from the prompt and the random computer selection and return the result
        return the winner as a string
        */
        function playRound(playerSelection, computerSelection){
            playerSelection = playerSelection.toLowerCase();
            let roundWinner = "";
            switch (playerSelection){
                case "rock": 
                    switch (computerSelection){
                        default:
                        case "Rock":
                            roundWinner = "draw";
                            break; 
                        case "Paper": 
                            roundWinner = "computer";
                            break;
                        case "Scissors": 
                            roundWinner = "player";
                    }
                    break;
                case "paper": 
                    switch (computerSelection){
                        default:
                        case "Paper":
                            roundWinner = "draw";
                            break; 
                        case "Scissors": 
                            roundWinner = "computer";
                            break;
                        case "Rock": 
                            roundWinner = "player";
                    }
                    break;
                case "scissors": 
                    switch (computerSelection){
                        default:
                        case "Scissors":
                            roundWinner = "draw";
                            break; 
                        case "Rock": 
                            roundWinner = "computer";
                            break;
                        case "Paper": 
                            roundWinner = "player";
                    }
                    break;
            }            
            return roundWinner;
        }
        
        function playGame(){
            for (let i = 0; i < numOfRounds; i++){
                let playerSelection = prompt("Rock Paper or Scissors?");
                let computerSelection = computerPlay();
                let winner = playRound(playerSelection, computerSelection);
                let playAgain = true;
                switch(winner){
                    case "player": 
                        playerScore = playerScore + 1;
                        if ( i == (numOfRounds - 1)){
                            alert("Scores: Computer: " + computerScore + " Player: " + playerScore);
                        } else {
                            playAgain = confirm("You win! " + playerSelection + " beats " + computerSelection); 
                        }
                        break;                    
                    case "computer":
                        computerScore = computerScore + 1; 
                        if ( i == (numOfRounds - 1)){
                            alert("Scores: Computer: " + computerScore + " Player: " + playerScore);
                        } else {
                            playAgain = confirm("You Lose! " + computerSelection + " beats " + playerSelection); 
                        }
                        break;
                    case "draw":
                    default: 
                        if ( i == (numOfRounds - 1)){
                            alert("Scores: Computer: " + computerScore + " Player: " + playerScore);
                        } else {
                            playAgain = confirm("Its a draw! You picked " + playerSelection + ", and the computer picked " + computerSelection);break;
                        }
                }
            }
        }
        playGame();
    </script>    
</body>
</html> 